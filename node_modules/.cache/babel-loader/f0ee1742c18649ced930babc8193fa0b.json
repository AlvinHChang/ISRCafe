{"ast":null,"code":"import _classCallCheck from \"/Users/alvinchang/ISRCafe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alvinchang/ISRCafe/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alvinchang/ISRCafe/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alvinchang/ISRCafe/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alvinchang/ISRCafe/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alvinchang/ISRCafe/src/CafeContainer/CafeContainer.js\";\nimport React from 'react';\nimport config from '../config';\n\nvar CafeContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CafeContainer, _React$Component);\n\n  function CafeContainer(props) {\n    var _this;\n\n    _classCallCheck(this, CafeContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CafeContainer).call(this, props));\n\n    _this.initClient = function () {\n      // 2. Initialize the JavaScript client library.\n      window.gapi.client.init({\n        apiKey: config.apiKey,\n        // Your API key will be automatically added to the Discovery Document URLs.\n        discoveryDocs: config.discoveryDocs\n      }).then(function () {\n        // 3. Initialize and make the API request.\n        load(_this.onLoad);\n      });\n    };\n\n    _this.onLoad = function (data, error) {\n      if (data) {\n        var cars = data.cars;\n\n        _this.setState({\n          cars: cars\n        });\n      } else {\n        _this.setState({\n          error: error\n        });\n      }\n    };\n\n    _this.state = {\n      cars: [],\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(CafeContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // 1. Load the JavaScript client library.\n      window.gapi.load(\"client\", this.initClient);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          cars = _this$state.cars,\n          error = _this$state.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, this.state.error);\n      }\n\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, cars.map(function (car, i) {\n        return React.createElement(\"li\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, car.year, \" \", car.make, \" \", car.model);\n      }));\n    }\n  }]);\n\n  return CafeContainer;\n}(React.Component);\n\nexport function load(callback) {\n  window.gapi.client.load(\"sheets\", \"v4\", function () {\n    window.gapi.client.sheets.spreadsheets.values.get({\n      spreadsheetId: config.spreadsheetId,\n      range: \"Sheet1!A4:T\"\n    }).then(function (response) {\n      var data = response.result.values;\n      var cars = data.map(function (car) {\n        return {\n          year: car[0],\n          make: car[1],\n          model: car[2]\n        };\n      }) || [];\n      callback({\n        cars: cars\n      });\n    }, function (response) {\n      callback(false, response.result.error);\n    });\n  });\n}\nexport default CafeContainer;","map":{"version":3,"sources":["/Users/alvinchang/ISRCafe/src/CafeContainer/CafeContainer.js"],"names":["React","config","CafeContainer","props","initClient","window","gapi","client","init","apiKey","discoveryDocs","then","load","onLoad","data","error","cars","setState","state","map","car","i","year","make","model","Component","callback","sheets","spreadsheets","values","get","spreadsheetId","range","response","result"],"mappings":"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","sourcesContent":["import React from 'react';\nimport config from '../config';\n\nclass CafeContainer extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            cars: [],\n            error: null\n        }\n    }\n    componentDidMount() {\n        // 1. Load the JavaScript client library.\n        window.gapi.load(\"client\", this.initClient);\n    }\n    initClient = () => {\n        // 2. Initialize the JavaScript client library.\n        window.gapi.client\n            .init({\n                apiKey: config.apiKey,\n                // Your API key will be automatically added to the Discovery Document URLs.\n                discoveryDocs: config.discoveryDocs\n            })\n            .then(() => {\n                // 3. Initialize and make the API request.\n                load(this.onLoad);\n            });\n    };\n    onLoad = (data, error) => {\n        if (data) {\n            const cars = data.cars;\n            this.setState({ cars });\n        } else {\n            this.setState({ error });\n        }\n    };\n    render() {\n        const {cars, error} = this.state;\n        if (error) {\n            return <div>{this.state.error}</div>;\n        }\n        return (\n            <ul>\n                {cars.map((car, i) => (\n                    <li key={i}>\n                        {car.year} {car.make} {car.model}\n                    </li>\n                ))}\n            </ul>\n        );\n    }\n}\n\n\nexport function load(callback) {\n  window.gapi.client.load(\"sheets\", \"v4\", () => {\n    window.gapi.client.sheets.spreadsheets.values\n      .get({\n        spreadsheetId: config.spreadsheetId,\n        range: \"Sheet1!A4:T\"\n      })\n      .then(\n        response => {\n          const data = response.result.values;\n          const cars = data.map(car => ({\n            year: car[0],\n            make: car[1],\n            model: car[2]\n          })) || [];\n          callback({\n            cars\n          });\n        },\n        response => {\n          callback(false, response.result.error);\n        }\n      );\n  });\n}\n\nexport default CafeContainer;"]},"metadata":{},"sourceType":"module"}